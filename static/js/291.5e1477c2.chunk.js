"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[291],{6083:function(n,e,r){r.d(e,{Hx:function(){return h},Mc:function(){return d},SU:function(){return l},cn:function(){return f},uV:function(){return p}});var t=r(5861),i=r(7757),c=r.n(i),s=r(4569),a=r.n(s);a().defaults.baseURL="https://api.themoviedb.org/3";var u="0d3c19a06e728eab3e881b744ba766c6",o=function(){var n=(0,t.Z)(c().mark((function n(){var e,r,t,i,s,o=arguments;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",r=o.length>1&&void 0!==o[1]?o[1]:"",t={api_key:u},r&&(t.query=r),i=new URLSearchParams(t),n.next=7,a().get("".concat(e,"?").concat(i));case 7:return s=n.sent,n.next=10,s.data;case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o("/trending/movie/week");case 2:return e=n.sent,n.abrupt("return",e.results);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,t.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o("/movie/".concat(e));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o("/movie/".concat(e,"/credits"));case 2:return r=n.sent,n.abrupt("return",r.cast);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o("/movie/".concat(e,"/reviews"));case 2:return r=n.sent,n.abrupt("return",r.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(c().mark((function n(e){var r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o("/search/movie",e);case 2:return r=n.sent,n.abrupt("return",r.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},1291:function(n,e,r){r.r(e),r.d(e,{MovieDetailsPage:function(){return R},default:function(){return A}});var t,i,c,s,a,u,o,l,d,p=r(8152),h=r(3504),f=r(6871),x=r(2791),v=r(6083),m=r(168),g=r(6031),j=g.ZP.div(t||(t=(0,m.Z)(["\ndisplay: flex;\npadding-bottom: 20px;\nborder-bottom: 1px solid #ccc;\n"]))),w=g.ZP.img(i||(i=(0,m.Z)(["\n  display: block;\n  max-width: 100%;\n  width: 500px;\n  height: auto;\n"]))),b=g.ZP.div(c||(c=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-basis: fit-content;\n  margin-left: 30px;\n"]))),Z=g.ZP.h2(s||(s=(0,m.Z)(["\n  font-weight: 700;\n"]))),k=g.ZP.p(a||(a=(0,m.Z)(["\n  font-size: 18px;\n  font-weight: 700;\n"]))),_=g.ZP.p(u||(u=(0,m.Z)(["\n  font-size: 16px;\n  font-weight: 500;\n"]))),y=g.ZP.button(o||(o=(0,m.Z)(["\n  margin-bottom: 10px;\n  cursor: pointer;\n  background-color: #fff;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  font-weight: 500;\n  transition: background-color linear 250ms;\n  &:hover {\n    background-color: green;\n    color: white;\n  }\n"]))),P=r(2547),E=g.ZP.div(l||(l=(0,m.Z)(["\n    width: 150px;\n    margin-right: 20px;\n    "]))),O=g.ZP.div(d||(d=(0,m.Z)(["\n    padding: 10px;\n    width: 500px;\n    > img {\n        width: 200px;\n    }\n    "]))),S=r(184),U=function(n){var e=n.id,r=(0,x.useState)(null),t=(0,p.Z)(r,2),i=t[0],c=t[1];return(0,x.useEffect)((function(){v.uV(e).then(c)}),[e]),(0,S.jsx)(S.Fragment,{children:i&&(0,S.jsx)("ul",{children:i.map((function(n){var e=n.name,r=n.character,t=n.profile_path,i=n.id;return(0,S.jsx)("li",{children:(0,S.jsxs)(O,{children:[t&&(0,S.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(t),alt:e}),(0,S.jsxs)(E,{children:[(0,S.jsx)("p",{children:e}),(0,S.jsxs)("p",{children:["Character: ",r]})]})]})},i)}))})})},C=function(n){var e=n.id,r=(0,x.useState)([]),t=(0,p.Z)(r,2),i=t[0],c=t[1];return(0,x.useEffect)((function(){v.Hx(e).then(c)}),[e]),(0,S.jsx)(S.Fragment,{children:i.length>0?(0,S.jsx)("ul",{children:i.map((function(n){var e=n.author,r=n.content,t=n.id;return(0,S.jsx)("li",{children:(0,S.jsx)("div",{children:(0,S.jsxs)("div",{children:[(0,S.jsxs)("h3",{children:["Author: ",e]}),(0,S.jsx)("p",{children:r})]})})},t)}))}):(0,S.jsx)("p",{children:"There is no reviews yet!"})})},L={init:!0,title:"",poster_path:"",vote_average:"",overview:"",genres:[]},R=function(){var n,e=(0,x.useState)(L),r=(0,p.Z)(e,2),t=r[0],i=r[1],c=(0,f.s0)(),s=(0,f.TH)().state,a=(0,x.useRef)(null);(0,x.useEffect)((function(){s&&(a.current=s)}),[s]);var u=(0,f.UO)().slug.match(/[a-z0-9]+$/)[0];(0,x.useEffect)((function(){v.Mc(u).then(i)}),[u]);var o=t.title,l=t.poster_path,d=t.vote_average,m=t.overview,g=t.genres.map((function(n){return n.name})).join(", ");return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(y,{type:"button",onClick:function(){var n=a.current?a.current:"/";c(n)},children:["Back",null===(n=a.current)||void 0===n?void 0:n.label]}),!t.init&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(j,{children:[(0,S.jsx)(w,{src:l?"https://image.tmdb.org/t/p/w300".concat(l):P,alt:o}),(0,S.jsxs)(b,{children:[(0,S.jsx)(Z,{children:o}),(0,S.jsxs)(k,{children:["User score: ",10*d," %"]}),(0,S.jsx)(k,{children:"Overview"}),(0,S.jsx)(_,{children:m}),(0,S.jsx)(k,{children:"Genres"}),(0,S.jsx)("p",{children:g})]})]}),(0,S.jsxs)("ul",{children:[(0,S.jsx)("li",{children:(0,S.jsx)(h.OL,{to:"cast",children:"Cast"})}),(0,S.jsx)("li",{children:(0,S.jsx)(h.OL,{to:"reviews",children:"Reviews"})})]}),(0,S.jsx)(x.Suspense,{fallback:(0,S.jsx)("h1",{children:"LOADING THE ROUTE..."}),children:(0,S.jsxs)(f.Z5,{children:[(0,S.jsx)(f.AW,{path:"cast",element:(0,S.jsx)(U,{id:u})}),(0,S.jsx)(f.AW,{path:"reviews",element:(0,S.jsx)(C,{id:u})})]})})]})]})},A=R},2547:function(n,e,r){n.exports=r.p+"static/media/poster.4b6b033ad55f686f9601.jpg"}}]);
//# sourceMappingURL=291.5e1477c2.chunk.js.map